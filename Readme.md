# TKGs Autoscaler

The is a simple cluster autoscaler implementation for TKGs - vSphere 7 with Tanzu. Currently only Scale out is implemented and Scale-in is being implemented. 




```
Info: Script sleeping for 1 minutes...
Info: Cluster workload-vsphere-tkg1 failed to schedule POD(s) due to CPU pressure. Scaling required.
Info: TKC_NODE_COUNT - 1, NODES_READY - 1, VMS_READY - 1
Info: Cluster workload-vsphere-tkg1 is being scaled up to 2 nodes...
tanzukubernetescluster.run.tanzu.vmware.com/workload-vsphere-tkg1 patched
Info: Script sleeping for 1 minutes...
Info: Cluster workload-vsphere-tkg1 failed to schedule POD(s) due to CPU pressure. Scaling required.
Info: TKC_NODE_COUNT - 2, NODES_READY - 1, VMS_READY - 1
...
Info: Cluster workload-vsphere-tkg1 failed to schedule POD(s) due to CPU pressure. Scaling required.
Info: TKC_NODE_COUNT - 2, NODES_READY - 1, VMS_READY - 2
Warning: Cluster workload-vsphere-tkg1 has a node in pending create/delete state. Possible resize in progress. Skipping resize...
Info: Script sleeping for 1 minutes...
Info: Cluster workload-vsphere-tkg1 failed to schedule POD(s) due to CPU pressure. Scaling required.
...
...
Info: Cluster workload-vsphere-tkg1 failed to schedule POD(s) due to CPU pressure. Scaling required.
Info: TKC_NODE_COUNT - 2, NODES_READY - 2, VMS_READY - 2
Info: Cluster workload-vsphere-tkg1 is being scaled up to 3 nodes...
tanzukubernetescluster.run.tanzu.vmware.com/workload-vsphere-tkg1 patched
Info: Script sleeping for 1 minutes...
```
